---
- name: Deploy Docker Compose
  hosts: all 
  become: true

  tasks:
  - name: Update apt cache
    apt:
      update_cache: yes

  - name: Install Docker
    command: curl -fsSL https://get.docker.com -o get-docker.sh | sudo sh ./get-docker.sh 

  - name: Copy files to remote host
    copy:
      src: /home/ubuntu/workspace/AppNote
      dest: /home/ubuntu/AppNote

  - name: Start Docker Compose
    command: docker-compose up -d
    args:
      chdir: /home/ubuntu

